# New Features in v0.405

This guide covers new and enhanced features introduced in GitHub Copilot CLI version 0.405.

## Table of Contents

1. [Project Initialization (`/init`)](#project-initialization-init)
2. [Enhanced Pull Request Creation (`/delegate`)](#enhanced-pull-request-creation-delegate)
3. [Other Improvements](#other-improvements)
4. [Migration Notes](#migration-notes)

## Project Initialization (`/init`)

### Overview

The `/init` command is a **new feature in v0.405** that scaffolds complete projects from scratch. Think of it as an intelligent project generator that asks questions, makes smart choices, and sets up everything you need to start coding immediately.

### Why Use `/init`?

**Before v0.405:**
```
> Create a React project with TypeScript

[AI creates files manually one by one]
> Initialize npm package
> Install React dependencies
> Create src folder
> Add TypeScript config
> Configure build tools
...
```

**With v0.405:**
```
> /init react-app

[Interactive wizard guides you]
[Everything configured automatically]
[Dependencies installed]
[Ready to code in seconds]
```

### Basic Usage

#### Interactive Mode (Recommended)

```
> /init

AI: What type of project would you like to create?

1. Frontend (React, Vue, Angular, Next.js)
2. Backend API (Express, FastAPI, Flask)
3. Full-Stack (Next.js, MERN, Django)
4. Mobile (React Native, Flutter)
5. Desktop (Electron, Tauri)
6. CLI Tool (Node, Python, Rust)
7. Other

Select option (1-7):
> 1

AI: Choose frontend framework:
1. React (with Vite)
2. Next.js (App Router)
3. Vue 3
4. Angular
5. Svelte

Select option:
> 1

[Continues with more questions...]
```

#### Direct Mode (When You Know What You Want)

```
> /init react-app
> /init nextjs
> /init express-api
> /init python-flask
> /init rust
```

### Supported Project Types

#### Frontend Frameworks

**React Applications:**
```
> /init react-app

AI Questions:
- Project name?
- TypeScript? (yes/no)
- Build tool? (Vite/Create React App/Custom)
- State management? (Redux/Zustand/Jotai/Context/None)
- Routing? (React Router/TanStack Router/None)
- UI Library? (Material-UI/Chakra/Tailwind/shadcn/ui/None)
- Form handling? (React Hook Form/Formik/None)
- Testing? (Vitest/Jest/React Testing Library/Cypress/None)
- Linting? (ESLint + Prettier/Biome/None)

Generated Structure:
react-app/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Layout.tsx
â”‚   â”‚   â””â”€â”€ ErrorBoundary.tsx
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ Home.tsx
â”‚   â”‚   â””â”€â”€ About.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ store/          # If state management selected
â”‚   â”œâ”€â”€ App.tsx
â”‚   â””â”€â”€ main.tsx
â”œâ”€â”€ public/
â”œâ”€â”€ tests/
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json       # If TypeScript
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ tailwind.config.js  # If Tailwind selected
â”œâ”€â”€ .eslintrc.json
â”œâ”€â”€ .prettierrc
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

**Next.js Applications:**
```
> /init nextjs

AI Questions:
- Project name?
- TypeScript? (yes/no)
- App Router or Pages Router?
- Styling? (Tailwind/CSS Modules/styled-components)
- Database? (Prisma+PostgreSQL/Supabase/MongoDB/None)
- Authentication? (NextAuth.js/Clerk/Auth0/None)
- Deployment target? (Vercel/Self-hosted)
- Include? (ESLint/Prettier/Husky/Testing/Storybook)

Generated Structure:
nextjs-app/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ auth/[...nextauth]/
â”‚   â”œâ”€â”€ (marketing)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ (dashboard)/
â”‚   â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ globals.css
â”œâ”€â”€ components/
â”œâ”€â”€ lib/
â”œâ”€â”€ prisma/             # If database selected
â”œâ”€â”€ public/
â”œâ”€â”€ next.config.js
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ tailwind.config.ts
â””â”€â”€ .env.example
```

**Vue Applications:**
```
> /init vue

Options: Vue 3, Composition API, Pinia, Vue Router, Vitest
```

**Angular Applications:**
```
> /init angular

Options: Standalone components, SSR, Material Design
```

#### Backend APIs

**Express.js API:**
```
> /init express-api

AI Questions:
- Project name?
- TypeScript? (yes/no)
- Database? (PostgreSQL/MySQL/MongoDB/SQLite/None)
- ORM? (Prisma/TypeORM/Sequelize/Mongoose/None)
- Authentication? (JWT/OAuth2/Passport/None)
- Validation? (Zod/Joi/express-validator)
- Documentation? (Swagger/OpenAPI)
- Testing? (Jest/Mocha/Supertest)
- Logging? (Winston/Pino/Morgan)
- Containerization? (Docker/None)

Generated Structure:
express-api/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â”œâ”€â”€ authController.ts
â”‚   â”‚   â””â”€â”€ userController.ts
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â””â”€â”€ users.ts
â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ errorHandler.ts
â”‚   â”‚   â”œâ”€â”€ validator.ts
â”‚   â”‚   â””â”€â”€ logger.ts
â”‚   â”œâ”€â”€ models/          # If ORM selected
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ authService.ts
â”‚   â”‚   â””â”€â”€ userService.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ jwt.ts
â”‚   â”‚   â””â”€â”€ logger.ts
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ database.ts
â”‚   â”‚   â””â”€â”€ swagger.ts
â”‚   â”œâ”€â”€ app.ts
â”‚   â””â”€â”€ server.ts
â”œâ”€â”€ prisma/              # If Prisma selected
â”‚   â””â”€â”€ schema.prisma
â”œâ”€â”€ tests/
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ docker-compose.yml   # If Docker selected
â”œâ”€â”€ Dockerfile
â””â”€â”€ README.md

API Endpoints Generated:
POST   /api/v1/auth/register
POST   /api/v1/auth/login
POST   /api/v1/auth/refresh
POST   /api/v1/auth/logout
GET    /api/v1/users
GET    /api/v1/users/:id
POST   /api/v1/users
PUT    /api/v1/users/:id
DELETE /api/v1/users/:id
GET    /health
GET    /api-docs         # If Swagger selected
```

**Python Flask API:**
```
> /init python-flask

AI Questions:
- Project name?
- Database? (PostgreSQL/MySQL/SQLite)
- ORM? (SQLAlchemy/Peewee)
- Authentication? (Flask-Login/JWT/OAuth)
- API type? (REST/GraphQL)
- Templates? (Jinja2/None - API only)
- Admin interface? (Flask-Admin)
- Testing? (pytest/unittest)
- Async? (Flask 2.0+ async views)

Generated Structure:
flask-api/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â””â”€â”€ post.py
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py
â”‚   â”‚   â””â”€â”€ api.py
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ templates/       # If templates selected
â”‚   â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ extensions.py
â”œâ”€â”€ migrations/
â”œâ”€â”€ tests/
â”œâ”€â”€ config.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â”œâ”€â”€ run.py
â””â”€â”€ README.md
```

**FastAPI:**
```
> /init python-fastapi

Options: Pydantic v2, SQLModel, Alembic migrations, OAuth2, auto-docs
```

**NestJS:**
```
> /init nestjs

Options: Microservices, GraphQL, TypeORM, Swagger, Testing
```

#### Full-Stack Applications

**MERN Stack:**
```
> /init mern

Generates:
- MongoDB + Mongoose models
- Express API backend
- React + Vite frontend
- Shared types/interfaces
- Docker Compose setup
```

**T3 Stack (Next.js):**
```
> /init t3-stack

Generates:
- Next.js with App Router
- tRPC for type-safe APIs
- Prisma ORM
- NextAuth.js
- Tailwind CSS
```

#### Other Project Types

**Rust CLI Tool:**
```
> /init rust

AI Questions:
- Project name?
- CLI framework? (clap/structopt)
- Async runtime? (tokio/async-std/None)
- Error handling? (anyhow/thiserror)
- Logging? (log/tracing)
- Testing? (Built-in tests/proptest)

Generated with Cargo workspace
```

**Go API:**
```
> /init go

Options: Gin/Echo/Chi framework, GORM, JWT, Swagger
```

**Electron Desktop App:**
```
> /init electron

Options: React/Vue/Svelte frontend, TypeScript, auto-updater
```

### Advanced Usage

#### Custom Templates

```
> /init from gh:username/template-repo

# Clone and customize an existing template
```

#### Project Options

```
# Specify options directly
> /init react-app --typescript --tailwind --router

# Skip interactive prompts with config file
> /init --config project-config.json
```

#### Configuration File Example

```json
{
  "type": "react-app",
  "name": "my-awesome-app",
  "options": {
    "typescript": true,
    "stateManagement": "zustand",
    "router": true,
    "uiLibrary": "tailwind",
    "testing": "vitest",
    "linting": true
  }
}
```

### Real-World Examples

#### Example 1: E-Commerce Frontend

```
> /init react-app

Project name?
> ecommerce-frontend

TypeScript?
> yes

State management?
> zustand

Routing?
> react-router

UI Library?
> tailwind + shadcn/ui

Form handling?
> react-hook-form

Testing?
> vitest + testing-library

[Wait 30 seconds]

âœ… Project created with:
   - Product listing page
   - Shopping cart functionality
   - User authentication pages
   - Checkout flow
   - Admin dashboard
   - Unit and integration tests
   - 100% configured and ready to run

Next steps:
  cd ecommerce-frontend
  npm run dev
```

#### Example 2: Microservice API

```
> /init express-api

Project name?
> payment-service

TypeScript?
> yes

Database?
> postgresql

ORM?
> prisma

Authentication?
> jwt

Documentation?
> swagger

Testing?
> jest + supertest

Docker?
> yes

âœ… Microservice created with:
   - Payment processing endpoints
   - Stripe integration example
   - Database schema for transactions
   - JWT authentication middleware
   - Comprehensive API documentation
   - Docker Compose with PostgreSQL
   - Health check endpoints
   - Unit and integration tests
   - Logging and error handling

Next steps:
  cd payment-service
  cp .env.example .env
  docker-compose up -d
  npx prisma migrate dev
  npm run dev
```

#### Example 3: Full-Stack SaaS Starter

```
> /init nextjs

Project name?
> saas-starter

App Router or Pages Router?
> app

Styling?
> tailwind

Database?
> prisma + postgresql

Authentication?
> nextauth

Additional features?
> [x] Stripe integration
> [x] Email (Resend)
> [x] File uploads (S3)
> [x] Admin dashboard
> [x] Landing page
> [x] User dashboard
> [x] API routes
> [x] Webhooks
> [x] Testing setup

âœ… SaaS starter created with:
   - Landing page with pricing
   - User authentication (email + OAuth)
   - Stripe subscription management
   - User dashboard
   - Admin panel
   - API routes for all features
   - Database schema
   - Email templates
   - Webhook handlers
   - E2E tests with Playwright
   - Deployment configs for Vercel

This is production-ready boilerplate!

Next steps:
  cd saas-starter
  cp .env.example .env
  # Add your API keys to .env
  npx prisma migrate dev
  npm run dev
```

### Tips for Using `/init`

**âœ… Do:**
- Use interactive mode when learning
- Review generated code before committing
- Customize after initialization
- Use for new projects and learning
- Start with simpler options, add complexity later

**âŒ Don't:**
- Use in existing projects (will conflict)
- Skip reviewing the generated structure
- Forget to configure environment variables
- Ignore the README.md instructions

### Customizing Generated Projects

After initialization, you can:

```
# Review what was created
> ls -la

# Read the generated README
> cat README.md

# Customize package.json
> @package.json update the description and author

# Add more dependencies
> npm install axios react-query

# Modify configuration
> @vite.config.ts add a proxy for the API

# Run tests
> npm test

# Start development
> npm run dev
```

## Enhanced Pull Request Creation (`/delegate`)

### Overview

The `/delegate` command existed before v0.405 but has been **significantly enhanced** with:
- Better issue linking
- Automatic test running
- Draft PR support
- Custom branch naming
- Multi-file change intelligence
- Code review integration

### What's New in v0.405

#### 1. Intelligent Issue Linking

```
> /delegate Implement the feature described in issue #123

AI: Analyzing issue #123...

Title: "Add user profile editing"
Description: Users should be able to edit name, email, bio
Labels: feature, priority-high
Assignees: @dev-team

I'll implement this with:
- Profile edit form component
- API endpoint for updates
- Input validation
- Tests

Linked issue #123 will be auto-closed when PR merges.

Proceed? (y/n)
```

The CLI now:
- Reads issue content
- Extracts requirements
- Links PR to issue automatically
- Uses issue labels on PR
- Adds "Fixes #123" to PR description

#### 2. Pre-Push Test Validation

```
> /delegate Fix authentication bug
  Run tests before pushing

AI: Making changes...
   âœ“ src/auth/login.js
   âœ“ tests/auth.test.js

ðŸ§ª Running test suite...
   âœ“ auth.test.js (12 tests)
   âœ“ integration.test.js (5 tests)
   
   All tests passed âœ“
   
   Safe to push? (y/n)
   > y
   
   Pushing changes...
```

New test integration:
- Auto-detects test framework (Jest, Vitest, pytest, etc.)
- Runs tests before committing
- Shows test results
- Blocks push on failures (configurable)
- Includes test output in PR description

#### 3. Draft PR Support

```
> /delegate --draft Experimental: try Redis caching

AI: Creating DRAFT pull request...
   
   This will not trigger CI/CD or request reviews.
   Mark as "Ready for review" when done.
   
ðŸ”— Created DRAFT PR #145
   https://github.com/user/repo/pull/145
```

Perfect for:
- Work-in-progress features
- Experimental changes
- Proof of concepts
- Getting early feedback

#### 4. Custom Branch Strategy

```
> /delegate --branch feature/user-profile-v2 Add profile editing

# Or use templates
> /delegate --branch "feat/{issue}" Implement issue #45

# Generates: feat/45
```

New branch options:
- `--branch <name>` - Custom branch name
- `--branch-prefix <prefix>` - Add prefix (e.g., "feature/")
- `--branch-template` - Use template with variables

#### 5. Target Branch Selection

```
> /delegate --base develop Add new feature

# Instead of defaulting to main/master
```

Useful for:
- GitFlow workflows
- Release branches
- Feature branches
- Separate production/staging branches

#### 6. Multi-File Change Intelligence

**Before v0.405:**
```
> /delegate Update all API endpoints to use async/await

[Changes files one by one]
[May miss some files]
[Inconsistent patterns]
```

**With v0.405:**
```
> /delegate Update all API endpoints to use async/await

AI: Analyzing codebase...

Found 23 files with API endpoints:
src/api/
â”œâ”€â”€ users.js (5 endpoints)
â”œâ”€â”€ products.js (8 endpoints)
â”œâ”€â”€ orders.js (6 endpoints)
â””â”€â”€ auth.js (4 endpoints)

I'll update all to async/await with:
- Consistent error handling
- Proper try-catch blocks
- Updated tests
- Type annotations

Proceed with batch update? (y/n)
> y

ðŸ”§ Updating 23 files...
   âœ“ src/api/users.js
   âœ“ src/api/products.js
   âœ“ src/api/orders.js
   âœ“ src/api/auth.js
   âœ“ [and 19 more...]

ðŸ§ª Running tests...
   âœ“ All API tests passed

ðŸ’¾ Creating single cohesive commit
â¬†ï¸  Pushing...
ðŸ”— PR #146 created with comprehensive changeset
```

#### 7. Code Review Integration

```
> /delegate Add input validation
  Request review from @security-team

AI: Making changes...
   âœ“ Added validation
   
ðŸ”— Created PR #147
   âœ“ Requested review from @security-team
   âœ“ Added label: needs-security-review
   âœ“ Added to Security Review project board
```

New review features:
- Auto-request reviewers
- Set review requirements
- Add to project boards
- Apply labels
- Set milestones

### Advanced `/delegate` Patterns

#### Pattern 1: Fix + Test

```
> /delegate Fix bug #234
  Add regression tests
  Run full test suite before pushing
```

#### Pattern 2: Feature + Docs

```
> /delegate Implement OAuth2 authentication
  Include:
  - Implementation code
  - API documentation
  - User guide
  - Migration guide
```

#### Pattern 3: Refactor + Verify

```
> /delegate Refactor database layer to use repository pattern
  Ensure:
  - No breaking changes
  - All tests pass
  - Performance benchmarks match
```

#### Pattern 4: Multi-Repo Coordination

```
# In frontend repo
> /delegate Update API client to use v2 endpoints
  Create matching PR for backend

# In backend repo  
> /delegate Implement v2 API endpoints
  Reference frontend PR #123
```

### Real-World Scenarios

#### Scenario 1: Bug Fix from Production

```
> /delegate Emergency: fix memory leak in WebSocket handler
  Priority: high
  Target: hotfix branch
  Run tests: yes
  Request review: @backend-lead

AI: This is high priority. Creating hotfix...

ðŸ”§ Branch: hotfix/websocket-memory-leak
ðŸ“ Changes:
   âœ“ src/websocket/handler.js - Fixed listener cleanup
   âœ“ tests/websocket.test.js - Added cleanup tests
   
ðŸ§ª Tests:
   âœ“ All tests passed
   âœ“ Memory leak tests passed
   âœ“ Load tests passed

ðŸ’¾ Commit: "fix: resolve memory leak in WebSocket handler"

â¬†ï¸  Pushed to: hotfix/websocket-memory-leak

ðŸ”— PR #234: "Emergency: Fix WebSocket memory leak"
   âœ“ Target: hotfix â†’ main
   âœ“ Priority: High ðŸ”´
   âœ“ Labels: bug, critical, hotfix
   âœ“ Reviewers: @backend-lead
   âœ“ Auto-merge: Enabled (after review + tests)
   
   https://github.com/company/app/pull/234
```

#### Scenario 2: Feature Implementation

```
> /delegate Implement feature from spec doc
  @docs/features/user-notifications.md
  Create comprehensive PR with:
  - Backend API endpoints
  - Frontend notification component
  - WebSocket real-time updates
  - Database migrations
  - Tests for all layers
  - Documentation

AI: Analyzing feature specification...

ðŸ“‹ Implementation plan:
1. Database:
   - notifications table
   - user_notification_preferences table
   
2. Backend:
   - Notification service
   - REST API endpoints
   - WebSocket server
   - Email integration
   
3. Frontend:
   - NotificationBell component
   - NotificationList component
   - Real-time updates via WebSocket
   - Preferences modal
   
4. Testing:
   - Unit tests (backend services)
   - Integration tests (API)
   - Component tests (frontend)
   - E2E tests (full flow)

Estimated: 15 files, ~1200 lines

Continue? (y/n)
> y

[30 seconds of work...]

âœ… Complete implementation ready!

ðŸ”— PR #235: "feat: Add user notification system"
   
   Description includes:
   - Feature overview with screenshots (placeholders)
   - Architecture diagram
   - API documentation
   - Setup instructions
   - Testing guide
   - Checklist for reviewers
   
   Labels: feature, backend, frontend, needs-review
   Project: Q1 Features
   Reviewers: @backend-team, @frontend-team
   
   https://github.com/company/app/pull/235
```

## Other Improvements

### Enhanced Context Awareness

```
# CLI now better understands project context
> Add dark mode support

AI: I see you're using Tailwind CSS with custom theme in tailwind.config.js
    I'll implement dark mode using Tailwind's dark mode utilities
    and add a theme toggle to your existing navbar component.
```

### Better Error Messages

**Before:**
```
Error: Failed to create PR
```

**v0.405:**
```
Error: Failed to create PR

Possible causes:
1. No remote repository configured
   Fix: git remote add origin <url>
   
2. No GitHub authentication
   Fix: gh auth login
   
3. No write permissions
   Fix: Check repository permissions
   
4. Branch name conflict
   Fix: Use --branch to specify different name

Run diagnostics: > /delegate --check
```

### Improved Performance

- 40% faster project initialization
- Parallel dependency installation
- Cached template downloads
- Smart file generation

## Migration Notes

### Upgrading to v0.405

#### Prerequisites

Before upgrading, ensure you have:
- Current version of Git installed
- GitHub CLI (gh) authenticated
- Active GitHub Copilot subscription

#### Check Your Current Version

```bash
copilot --version
# Example output: GitHub Copilot CLI version 0.0.395
```

#### Upgrade Methods

##### Method 1: Homebrew (macOS/Linux) - Recommended

```bash
# Update Homebrew
brew update

# Upgrade Copilot CLI
brew upgrade github/gh/gh-copilot

# Verify new version
copilot --version
# Should show: 0.0.405 or higher
```

**If you installed via Homebrew tap:**
```bash
# Update the tap
brew update

# Upgrade
brew upgrade copilot-cli

# Verify
copilot --version
```

##### Method 2: npm/npx (All Platforms)

```bash
# If installed globally
npm update -g @github/copilot

# Or uninstall and reinstall for clean update
npm uninstall -g @github/copilot
npm install -g @github/copilot@latest

# Verify
copilot --version
```

**Using npx (no installation):**
```bash
# Always uses latest version
npx @github/copilot@latest

# Or update npm itself first
npm install -g npm@latest
npx @github/copilot@latest
```

##### Method 3: GitHub CLI Extension

```bash
# Update GitHub CLI first
brew upgrade gh  # macOS/Linux
# or
winget upgrade --id GitHub.cli  # Windows

# Update the Copilot extension
gh extension upgrade gh-copilot

# Verify
gh copilot --version
```

##### Method 4: Manual Download

**macOS (Apple Silicon):**
```bash
# Download latest release
curl -L https://github.com/github/gh-copilot/releases/latest/download/gh-copilot-darwin-arm64.tar.gz -o copilot.tar.gz

# Extract
tar -xzf copilot.tar.gz

# Move to bin (requires sudo)
sudo mv gh-copilot /usr/local/bin/copilot

# Make executable
sudo chmod +x /usr/local/bin/copilot

# Verify
copilot --version
```

**macOS (Intel):**
```bash
curl -L https://github.com/github/gh-copilot/releases/latest/download/gh-copilot-darwin-amd64.tar.gz -o copilot.tar.gz
tar -xzf copilot.tar.gz
sudo mv gh-copilot /usr/local/bin/copilot
sudo chmod +x /usr/local/bin/copilot
copilot --version
```

**Linux (x64):**
```bash
curl -L https://github.com/github/gh-copilot/releases/latest/download/gh-copilot-linux-amd64.tar.gz -o copilot.tar.gz
tar -xzf copilot.tar.gz
sudo mv gh-copilot /usr/local/bin/copilot
sudo chmod +x /usr/local/bin/copilot
copilot --version
```

**Windows (PowerShell as Administrator):**
```powershell
# Download latest release
Invoke-WebRequest -Uri "https://github.com/github/gh-copilot/releases/latest/download/gh-copilot-windows-amd64.zip" -OutFile "copilot.zip"

# Extract
Expand-Archive -Path copilot.zip -DestinationPath "$env:ProgramFiles\GitHub CLI"

# Add to PATH if needed
$env:PATH += ";$env:ProgramFiles\GitHub CLI"

# Verify
copilot --version
```

##### Method 5: Package Managers (Linux)

**Debian/Ubuntu (APT):**
```bash
# Update package list
sudo apt update

# Upgrade Copilot CLI
sudo apt upgrade gh-copilot

# Verify
copilot --version
```

**Fedora/RHEL (DNF):**
```bash
sudo dnf upgrade gh-copilot
copilot --version
```

**Arch Linux (AUR):**
```bash
yay -Syu github-copilot-cli
# or
paru -Syu github-copilot-cli

copilot --version
```

#### Post-Upgrade Verification

After upgrading, verify everything works:

```bash
# 1. Check version
copilot --version
# Expected: 0.0.405 or higher

# 2. Verify authentication
copilot
> /help
# Should show new /init command

# 3. Test new features
> /init --help
# Should display initialization options

> /delegate --help  
# Should show enhanced options

# 4. Check GitHub integration
> gh auth status
# Should show: Logged in to github.com

# 5. Verify configuration
ls ~/.copilot/
# Should show: config.json, mcp-config.json, etc.
```

#### Troubleshooting Upgrade Issues

##### Issue: "Command not found" after upgrade

**Solution:**
```bash
# Check if binary exists
which copilot

# If not found, ensure PATH is correct
echo $PATH

# macOS/Linux: Add to PATH
export PATH="/usr/local/bin:$PATH"

# Add to shell profile for persistence
echo 'export PATH="/usr/local/bin:$PATH"' >> ~/.zshrc  # or ~/.bashrc
source ~/.zshrc
```

##### Issue: Version still shows old number

**Solution:**
```bash
# Clear npm cache
npm cache clean --force

# Uninstall completely
npm uninstall -g @github/copilot

# Clear any old installations
rm -rf $(which copilot)

# Reinstall
npm install -g @github/copilot@latest

# Verify
copilot --version
```

##### Issue: Brew upgrade fails

**Solution:**
```bash
# Update brew itself
brew update

# Check for conflicts
brew doctor

# Fix issues reported by doctor
# Then try again
brew upgrade github/gh/gh-copilot

# If still failing, reinstall
brew uninstall gh-copilot
brew install github/gh/gh-copilot
```

##### Issue: Permission denied during upgrade

**Solution:**
```bash
# Use sudo for system directories
sudo npm install -g @github/copilot@latest

# Or fix npm permissions (recommended)
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
echo 'export PATH=~/.npm-global/bin:$PATH' >> ~/.profile
source ~/.profile

# Now install without sudo
npm install -g @github/copilot@latest
```

##### Issue: GitHub CLI authentication expired

**Solution:**
```bash
# Re-authenticate
gh auth logout
gh auth login

# Follow prompts to authenticate
# Then restart Copilot CLI
copilot
```

#### Configuration Migration

**No configuration changes required!** Your existing config is compatible.

Your configuration files remain unchanged:
```bash
~/.copilot/
â”œâ”€â”€ config.json          # âœ… Compatible
â”œâ”€â”€ mcp-config.json      # âœ… Compatible
â”œâ”€â”€ skills/              # âœ… Compatible
â””â”€â”€ sessions/            # âœ… Compatible
```

**Optional: Review new settings**

```bash
# View your config
cat ~/.copilot/config.json

# You can optionally add new features:
{
  "version": "0.0.405",
  "init": {
    "defaultTemplate": "react-app",
    "autoInstallDeps": true
  },
  "delegate": {
    "autoRunTests": true,
    "defaultReviewers": ["@team"]
  }
}
```

#### Session Compatibility

**Existing sessions are fully compatible.**

```bash
# Resume your previous sessions normally
copilot
> /resume

# Your history and context are preserved
> /session checkpoints
```

#### Rollback (If Needed)

If you encounter issues, you can rollback:

**Via Homebrew:**
```bash
# Install specific version
brew uninstall gh-copilot
brew install github/gh/gh-copilot@0.0.395
```

**Via npm:**
```bash
npm uninstall -g @github/copilot
npm install -g @github/copilot@0.0.395
```

### From v0.395 to v0.405

**No Breaking Changes** âœ…

All existing commands work exactly as before. New features are additive.

**What Changed:**

1. `/delegate` has new optional flags but works the same without them
2. `/init` is completely new - won't affect existing workflows
3. Error messages are more helpful
4. Performance improvements are automatic

**Recommended Updates:**

```bash
# Update to v0.405
brew upgrade copilot-cli

# Or with npm
npm install -g @github/copilot@latest

# Verify version
copilot --version
# Should show: 0.0.405 or higher
```

**Testing After Upgrade:**

```
# Test basic functionality
> /help

# Test /init
> /init --help

# Test enhanced /delegate
> /delegate --help

# Verify GitHub integration
> gh auth status
```

### Configuration Changes

**No configuration changes required.**

Existing config files (`~/.copilot/config.json`) work without modification.

**Optional New Settings:**

```json
{
  "version": "0.0.405",
  "features": {
    "init": {
      "defaultTemplate": "react-app",
      "autoInstallDeps": true,
      "preferredPackageManager": "npm"
    },
    "delegate": {
      "autoRunTests": true,
      "draftByDefault": false,
      "defaultReviewers": ["@team-backend"],
      "branchPrefix": "feature/"
    }
  }
}
```

## Getting Help

### Documentation

- `/init --help` - Show initialization options
- `/delegate --help` - Show delegation options
- `/help` - General help

### Examples

See [Examples Guide](12-examples.md) for comprehensive tutorials using these new features.

### Troubleshooting

Common issues and solutions in [Troubleshooting Guide](11-troubleshooting.md).

---

**Next:** [Back to README](README.md)  
**Related:** [Examples](12-examples.md) | [Slash Commands](04-slash-commands.md)
